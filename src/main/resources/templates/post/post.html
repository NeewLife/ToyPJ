<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/header :: main-head">
</head>
<body>
    <header id="header">
        <div class="container-fluid d-flex justify-content-between align-items-center" >
          <div class="logo">
            <h1 class="text-light"><a href="/post/index">WeBuild</a></h1>
          </div>
          <nav class="navbar">
            <ul id="navbar">
              <li><a class="nav-link" href="/post/post">게시판</a></li>
              <li><a class="nav-link" sec:authorize="isAnonymous()" href="/post/login">로그인</a></li>
              <li><span class="nav-link" sec:authorize="isAuthenticated()" th:text="@{${#authentication.principal.nickname}}"></span> </li>
              <li><a class="nav-link" sec:authorize="isAuthenticated()" href="/post/login">로그아웃</a></li>
              <li><a class="nav-link" sec:authorize="isAuthenticated()" href="/post/mypage">마이페이지</a></li>
              <li><a class="nav-link" sec:authorize="isAnonymous()" href="/post/register">회원가입</a></li>
            </ul>
          </nav>
        </div>
      </header>

    <main class="container">
        <article>
            <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">번호</th>
                    <th scope="col">제목</th>
                    <th scope="col">글쓴이</th>
                    <th scope="col">작성일</th>
                    <th scope="col">조회</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="row, status : ${posts}">
                    <th scope="row" th:text="${status.size - status.index}"></th>
                    <td class="title" ><a th:href="@{/post/view(id=${row.postId})}"><p th:text="${row.title}" style="margin : 0px"></p></a></td>
                    <td class="writer" th:text="${row.writer}"></td>
                    <td class="writeDate" th:text="${#temporals.format( row.createdDate, 'yyyy-MM-dd HH:mm' )}"></td>
                    <td class="viewCount" th:text="${row.viewCount}"></td>
                  </tr>
                </tbody>
              </table>
              <div class="col-12" id="button">
                <button type="button" class="btn btn-primary" onclick="location.href='/post/write'" >글쓰기</button>
              </div>
        </article>
    </main>
</body>
</html>